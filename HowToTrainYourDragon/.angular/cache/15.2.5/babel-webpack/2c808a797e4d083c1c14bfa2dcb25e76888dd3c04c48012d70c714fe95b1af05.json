{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LoginComponent = class LoginComponent {\n  constructor(router, accountService) {\n    this.router = router;\n    this.accountService = accountService;\n  }\n  canActivate(route, state) {\n    const user = this.accountService.userValue;\n    if (user) {\n      // authorised so return true\n      return true;\n    }\n    // not logged in so redirect to login page with the return url\n    this.router.navigate(['/account/login'], {\n      queryParams: {\n        returnUrl: state.url\n      }\n    });\n    return false;\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AASlC,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAEzBC,YAAoBC,MAAc,EAAUC,cAA8B;IAAtD,WAAM,GAAND,MAAM;IAAkB,mBAAc,GAAdC,cAAc;EACzD;EACDC,WAAW,CAACC,KAA6B,EAAEC,KAA0B;IACnE,MAAMC,IAAI,GAAG,IAAI,CAACJ,cAAc,CAACK,SAAS;IAC1C,IAAID,IAAI,EAAE;MACN;MACA,OAAO,IAAI;;IAGf;IACA,IAAI,CAACL,MAAM,CAACO,QAAQ,CAAC,CAAC,gBAAgB,CAAC,EAAE;MAAEC,WAAW,EAAE;QAAEC,SAAS,EAAEL,KAAK,CAACM;MAAG;IAAE,CAAC,CAAC;IAClF,OAAO,KAAK;EAChB;CACC;AAfYZ,cAAc,eAL1BD,SAAS,CAAC;EACTc,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWf,cAAc,CAe1B;SAfYA,cAAc","names":["Component","LoginComponent","constructor","router","accountService","canActivate","route","state","user","userValue","navigate","queryParams","returnUrl","url","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Nicolas\\Downloads\\SCUOLA\\info\\ANGULAR\\DragonTrainerSecondaProva\\DragonTrainer\\HowToTrainYourDragon\\src\\app\\login\\login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements CanActivate {\n\n  constructor(private router: Router, private accountService: AccountService\n) {}\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n    const user = this.accountService.userValue;\n    if (user) {\n        // authorised so return true\n        return true;\n    }\n\n    // not logged in so redirect to login page with the return url\n    this.router.navigate(['/account/login'], { queryParams: { returnUrl: state.url }});\n    return false;\n}\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}